<ion-header>
    <ion-navbar color="dark">
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>
        <ion-icon name="basket"></ion-icon> 
        Alimama Shopping
      </ion-title>
    </ion-navbar>
  </ion-header>   
    
<ion-content>
    <ion-searchbar (ionInput)="getItems($event)" placeholder="Search in Alimama"></ion-searchbar>
  
    <ion-item>
      <ion-label>Category</ion-label>
      <ion-select [(ngModel)]="category"  (ionChange)="applyCategoryFilter()">
        <ion-option value="all" selected>All</ion-option>
        <ion-option value="grocery">Grocery</ion-option>
        <ion-option value="computer">Computer Accessories</ion-option>
      </ion-select>
    </ion-item>
  <ion-list *ngFor="let item of items">
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col (click)="viewItem(item.id, item.title, item.img, item.quantityInCart, item.sum, item.price)">
              <ion-thumbnail item-start>
                <img src="{{item.img}}" height="auto" width="auto" />
              </ion-thumbnail>
          </ion-col>
          <ion-col (click)="viewItem(item.id, item.title, item.img, item.quantityInCart, item.sum, item.price)">
              <h1>{{item.title}}</h1>
              <h2>{{item.currency}} {{item.price}}</h2>
              <label *ngIf="item.promo">
                  {{item.promo}}<br/>
              </label>
              <label *ngIf="item.np">
                  NP: {{item.currency}} {{item.np}}
              </label>
          </ion-col>
          <ion-col>
              <button (click)="addToCart(item); addGlobal(item.id, item.title, item.img, item.quantityInCart, item.sum, item.price)" ion-button icon-left small float-right value="{{item.id}}" style="z-index:9999;">
                <ion-icon name="add"></ion-icon>
                  Add to Cart
              </button>
              <ion-col *ngIf="item.quantityInCart > 0">
                <button (click)="reduceToCart(item); reduceGlobal(item.id, item.title, item.img, item.quantityInCart, item.sum, item.price)" color="light" ion-button color="danger" small style="z-index:9999;">
                    <ion-icon name="close"></ion-icon> &nbsp;&nbsp; {{item.currency}} {{item.sum}} 
                </button>
                <ion-badge>{{item.quantityInCart}}</ion-badge>
              </ion-col>
          </ion-col>          
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>
  <!-- <ion-list *ngFor="let item of items">
    <ion-item>
      <ion-thumbnail item-start>
        <a href=""><img src="http://lorempixel.com/200/200" height="auto" width="auto"/></a>
      </ion-thumbnail>
      <h1>T-Shirt</h1>
      <p>Price</p>
      <button *ngIf="item.quantityInCart" color="light" ion-button small>
        {{item.quantityInCart}}
      </button>
      <button (click)="addToCart(item)" ion-button icon-left small float-right>
        <ion-icon name="add"></ion-icon>
        Add to Cart
      </button>
    </ion-item>
  </ion-list> -->
</ion-content>